{"ast":null,"code":"import _slicedToArray from \"/workspaces/MLH-hackathon-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"/workspaces/MLH-hackathon-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/workspaces/MLH-hackathon-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/workspaces/MLH-hackathon-project/frontend/src/context/context.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { createContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar AuthContext = /*#__PURE__*/createContext();\n\nvar logout = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var history;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            history = _ref.history;\n            _context.next = 3;\n            return sessionStorage.clear();\n\n          case 3:\n            history.push(\"/\");\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function logout(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar addUserData = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(props) {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return axios.post(\"/\", props);\n\n          case 3:\n            res = _context2.sent;\n            return _context2.abrupt(\"return\", res.data);\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 7]]);\n  }));\n\n  return function addUserData(_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar updateUserData = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(props) {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return axios.post(\"/\", props);\n\n          case 3:\n            res = _context3.sent;\n            return _context3.abrupt(\"return\", res.data);\n\n          case 7:\n            _context3.prev = 7;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.log(_context3.t0);\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[0, 7]]);\n  }));\n\n  return function updateUserData(_x3) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nvar getAllUsersData = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return axios.get(\"/\");\n\n          case 3:\n            res = _context4.sent;\n            return _context4.abrupt(\"return\", res.data);\n\n          case 7:\n            _context4.prev = 7;\n            _context4.t0 = _context4[\"catch\"](0);\n            console.log(_context4.t0);\n\n          case 10:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[0, 7]]);\n  }));\n\n  return function getAllUsersData() {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nvar AuthProvider = function AuthProvider(props) {\n  _s();\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      inviteCode = _useState2[0],\n      setInviteCode = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loggedIn = _useState4[0],\n      setLoggedIn = _useState4[1];\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      userData = _useState6[0],\n      setUserData = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      allUsersData = _useState8[0],\n      setAllUsersData = _useState8[1];\n\n  var tryLocalLogin = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var _inviteCode, _loggedIn, _userData, _allUsersData;\n\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return sessionStorage.getItem(\"inviteCode\");\n\n            case 3:\n              _inviteCode = _context5.sent;\n              _context5.next = 6;\n              return sessionStorage.getItem(\"loggedIn\");\n\n            case 6:\n              _loggedIn = _context5.sent;\n              _context5.next = 9;\n              return JSON.parse(sessionStorage.getItem(\"userData\") || \"{}\");\n\n            case 9:\n              _userData = _context5.sent;\n              _context5.next = 12;\n              return JSON.parse(sessionStorage.getItem(\"allUsersData\") || \"[]\");\n\n            case 12:\n              _allUsersData = _context5.sent;\n              setInviteCode(_inviteCode);\n              setLoggedIn(_loggedIn);\n              setUserData(_userData);\n              setAllUsersData(_allUsersData);\n              _context5.next = 22;\n              break;\n\n            case 19:\n              _context5.prev = 19;\n              _context5.t0 = _context5[\"catch\"](0);\n              console.log(_context5.t0);\n\n            case 22:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 19]]);\n    }));\n\n    return function tryLocalLogin() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var authContextValue = {\n    tryLocalLogin: tryLocalLogin,\n    loggedIn: loggedIn,\n    setLoggedIn: setLoggedIn,\n    userData: userData,\n    setUserData: setUserData,\n    allUsersData: allUsersData,\n    setAllUsersData: setAllUsersData,\n    addUserData: addUserData,\n    updateUserData: updateUserData,\n    getAllUsersData: getAllUsersData,\n    inviteCode: inviteCode,\n    setInviteCode: setInviteCode,\n    logout: logout\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: authContextValue,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 7\n  }, _this);\n};\n\n_s(AuthProvider, \"pRkJDl1ykb5xvv/ebZIRyZkpSpY=\");\n\n_c = AuthProvider;\nexport { AuthProvider, AuthContext };\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"sources":["/workspaces/MLH-hackathon-project/frontend/src/context/context.js"],"names":["React","createContext","useEffect","useState","axios","AuthContext","logout","history","sessionStorage","clear","push","addUserData","props","post","res","data","console","log","updateUserData","getAllUsersData","get","AuthProvider","inviteCode","setInviteCode","loggedIn","setLoggedIn","userData","setUserData","allUsersData","setAllUsersData","tryLocalLogin","getItem","JSON","parse","authContextValue","children"],"mappings":"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","sourcesContent":["import React, { createContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst AuthContext = createContext();\nconst logout = async ({ history }) => {\n  await sessionStorage.clear();\n  history.push(\"/\");\n};\n\nconst addUserData = async (props) => {\n  try {\n    const res = await axios.post(\"/\", props);\n    return res.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst updateUserData = async (props) => {\n  try {\n    const res = await axios.post(\"/\", props);\n    return res.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst getAllUsersData = async () => {\n  try {\n    const res = await axios.get(\"/\");\n    return res.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\n\n\nconst AuthProvider = (props) => {\n  const [inviteCode, setInviteCode] = useState(0);\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [userData, setUserData] = useState({});\n    const [allUsersData, setAllUsersData] = useState([]);\n\n    const tryLocalLogin = async () => {\n    try {\n      const inviteCode = await sessionStorage.getItem(\"inviteCode\");\n        const loggedIn = await sessionStorage.getItem(\"loggedIn\");\n        const userData = await JSON.parse(\n          sessionStorage.getItem(\"userData\") || \"{}\"\n        );\n        const allUsersData = await JSON.parse(\n          sessionStorage.getItem(\"allUsersData\") || \"[]\"\n        );\n        setInviteCode(inviteCode);\n        setLoggedIn(loggedIn);\n        setUserData(userData);\n        setAllUsersData(allUsersData);\n      }\n    catch (err) {\n      console.log(err);\n    }}\n\n    const authContextValue = {\n        tryLocalLogin,\n        loggedIn,\n        setLoggedIn,\n        userData,\n        setUserData,\n        allUsersData,\n        setAllUsersData,\n        addUserData,\n        updateUserData,\n        getAllUsersData,\n        inviteCode,\n        setInviteCode,\n        logout,\n    };\n  \n    return (\n      <AuthContext.Provider value={authContextValue}>\n        {props.children}\n      </AuthContext.Provider>\n    );\n};\nexport { AuthProvider, AuthContext };\n"]},"metadata":{},"sourceType":"module"}